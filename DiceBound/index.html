<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DiceBound</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Home Screen -->
    <div id="homeScreen" class="home-screen">
        <div class="home-container">
            <div class="home-header">
                <h1 class="game-title">üé≤ DiceBound</h1>
                <div class="home-gold-display">
                    <span class="gold-icon">üí∞</span>
                    <span class="gold-label">Gold:</span>
                    <span class="gold-value" id="homeTotalGold">0</span>
                </div>
            </div>

            <div class="main-menu">
                <button id="startGameBtn" class="menu-button primary">
                    <span class="button-icon">‚ñ∂Ô∏è</span>
                    <span class="button-text">Start Game</span>
                </button>
                
                <button id="upgradesBtn" class="menu-button secondary">
                    <span class="button-icon">‚ö°</span>
                    <span class="button-text">Upgrades</span>
                </button>
                
                <button id="resetProgressBtn" class="menu-button reset-button">
                    <span class="button-icon">üîÑ</span>
                    <span class="button-text">Reset Progress</span>
                </button>
                
                <button id="backToHubBtn" class="menu-button hub-button">
                    <span class="button-icon">üè†</span>
                    <span class="button-text">Quay v·ªÅ Hub</span>
                </button>
            </div>
            
            <!-- Home Stats Section -->
            <div class="home-stats-section">
                <div class="home-stat-item">
                    <span class="stat-icon">‚ù§Ô∏è</span>
                    <span class="stat-label">HP:</span>
                    <span class="stat-value" id="homeHP">2</span>
                </div>
                <div class="home-stat-item">
                    <span class="stat-icon">‚öîÔ∏è</span>
                    <span class="stat-label">DMG:</span>
                    <span class="stat-value" id="homeDMG">1-2</span>
                </div>
                <div class="home-stat-item">
                    <span class="stat-icon">üèÉ</span>
                    <span class="stat-label">SPD:</span>
                    <span class="stat-value" id="homeSPD">1-2</span>
                </div>
                <div class="home-stat-item">
                    <span class="stat-icon">üß†</span>
                    <span class="stat-label">INT:</span>
                    <span class="stat-value" id="homeINT">1-2</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Upgrades Screen -->
    <div id="upgradesScreen" class="upgrades-screen" style="display: none;">
        <div class="upgrades-container">
            <!-- Header -->
            <div class="upgrades-header">
                <button id="backToHomeBtn" class="back-button-small">‚Üê</button>
                <h2>‚ö° Upgrades</h2>
                <div class="gold-display">
                    <span class="gold-icon">üí∞</span>
                    <span id="upgradeGold">0</span>
                </div>
            </div>

            <!-- Player Stats Display -->
            <div class="upgrades-stats-section">
                <h3 class="stats-section-title">Your Stats</h3>
                <div class="upgrades-stats-grid">
                    <div class="upgrade-stat-item">
                        <div class="stat-icon">‚ù§Ô∏è</div>
                        <div class="stat-info">
                            <div class="stat-label">HP</div>
                            <div class="stat-value">
                                <span class="stat-number" id="upgradeHP">2</span>
                            </div>
                        </div>
                    </div>
                    <div class="upgrade-stat-item">
                        <div class="stat-icon">‚öîÔ∏è</div>
                        <div class="stat-info">
                            <div class="stat-label">DMG</div>
                            <div class="stat-value" id="upgradeDMG">
                                <span class="stat-number" id="upgradeDMGMin">1</span>
                                <span class="stat-separator">-</span>
                                <span class="stat-number" id="upgradeDMGMax">2</span>
                            </div>
                        </div>
                    </div>
                    <div class="upgrade-stat-item">
                        <div class="stat-icon">üèÉ</div>
                        <div class="stat-info">
                            <div class="stat-label">SPD</div>
                            <div class="stat-value" id="upgradeSPD">
                                <span class="stat-number" id="upgradeSPDMin">1</span>
                                <span class="stat-separator">-</span>
                                <span class="stat-number" id="upgradeSPDMax">2</span>
                            </div>
                        </div>
                    </div>
                    <div class="upgrade-stat-item">
                        <div class="stat-icon">üß†</div>
                        <div class="stat-info">
                            <div class="stat-label">INT</div>
                            <div class="stat-value" id="upgradeINT">
                                <span class="stat-number" id="upgradeINTMin">1</span>
                                <span class="stat-separator">-</span>
                                <span class="stat-number" id="upgradeINTMax">2</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="upgrades-grid">
                <!-- Min Roll Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üé≤</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">Min Roll</div>
                            <div class="upgrade-description">Increase minimum dice roll</div>
                            <div class="upgrade-level">Level: <span id="minRollLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="minRollCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="minRoll">Upgrade</button>
                    </div>
                </div>

                <!-- Max Roll Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üé≤</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">Max Roll</div>
                            <div class="upgrade-description">Increase maximum dice roll</div>
                            <div class="upgrade-level">Level: <span id="maxRollLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="maxRollCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="maxRoll">Upgrade</button>
                    </div>
                </div>

                <!-- Start Value Boost Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üí™</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">Base Power</div>
                            <div class="upgrade-description">Increase starting Base Power</div>
                            <div class="upgrade-level">Level: <span id="startValueBoostLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="startValueBoostCost">75</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="startValueBoost">Upgrade</button>
                    </div>
                </div>

                <!-- HP Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">‚ù§Ô∏è</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">HP</div>
                            <div class="upgrade-description">Increase starting HP</div>
                            <div class="upgrade-level">Level: <span id="hpLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="hpCost">75</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="hp">Upgrade</button>
                    </div>
                </div>

                <!-- DMG Min Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">‚öîÔ∏è</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">DMG Min</div>
                            <div class="upgrade-description">Increase minimum damage</div>
                            <div class="upgrade-level">Level: <span id="dmgMinLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="dmgMinCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="dmgMin">Upgrade</button>
                    </div>
                </div>

                <!-- DMG Max Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">‚öîÔ∏è</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">DMG Max</div>
                            <div class="upgrade-description">Increase maximum damage</div>
                            <div class="upgrade-level">Level: <span id="dmgMaxLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="dmgMaxCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="dmgMax">Upgrade</button>
                    </div>
                </div>

                <!-- SPD Min Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üèÉ</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">SPD Min</div>
                            <div class="upgrade-description">Increase minimum movement steps</div>
                            <div class="upgrade-level">Level: <span id="spdMinLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="spdMinCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="spdMin">Upgrade</button>
                    </div>
                </div>

                <!-- SPD Max Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üèÉ</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">SPD Max</div>
                            <div class="upgrade-description">Increase maximum movement steps</div>
                            <div class="upgrade-level">Level: <span id="spdMaxLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="spdMaxCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="spdMax">Upgrade</button>
                    </div>
                </div>

                <!-- INT Min Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üß†</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">INT Min</div>
                            <div class="upgrade-description">Increase minimum intelligence</div>
                            <div class="upgrade-level">Level: <span id="intMinLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="intMinCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="intMin">Upgrade</button>
                    </div>
                </div>

                <!-- INT Max Upgrade -->
                <div class="upgrade-card">
                    <div class="upgrade-left">
                        <div class="upgrade-icon">üß†</div>
                        <div class="upgrade-info">
                            <div class="upgrade-name">INT Max</div>
                            <div class="upgrade-description">Increase maximum intelligence</div>
                            <div class="upgrade-level">Level: <span id="intMaxLevel">0</span></div>
                        </div>
                    </div>
                    <div class="upgrade-right">
                        <div class="upgrade-cost">
                            <span class="cost-icon">üí∞</span>
                            <span id="intMaxCost">50</span>
                        </div>
                        <button class="upgrade-btn" data-upgrade="intMax">Upgrade</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="game-screen" style="display: none;">
        <div class="game-container">
            <!-- Back to Home Button -->
            <button id="exitGameBtn" class="exit-game-btn" title="Exit Game (No rewards)">
                ‚Üê
            </button>
            
            <!-- Game Header -->
            <div class="game-header">
                <div class="level-info">
                    <div class="level-display">
                        <span class="level-label">Level</span>
                        <span class="level-value" id="levelValue">1</span>
                    </div>
                    <div class="objective-display">
                        <span class="objective-icon" id="objectiveIcon">üéØ</span>
                        <span class="objective-text" id="objectiveText">Defeat all enemies</span>
                    </div>
                    <div class="gold-display">
                        <span class="gold-icon">üí∞</span>
                        <span class="gold-value" id="goldValue">0</span>
                    </div>
                </div>
            </div>

            <!-- Game Grid -->
            <div class="grid-container">
                <div class="game-grid" id="gameGrid">
                    <!-- Grid cells will be generated by JavaScript -->
                </div>
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <div class="dice-container">
                    <div class="dice-visual" id="diceVisual">
                        <div class="dice-face" id="diceFace">?</div>
                    </div>
                    <button id="rollButton" class="roll-button" disabled>üé≤ Roll</button>
                    <button id="endTurnButton" class="roll-button" style="display: none; background: linear-gradient(45deg, #e74c3c, #c0392b);">‚èπÔ∏è End Turn</button>
                </div>
                <div class="dice-label" id="diceLabel">Roll to start</div>
                <!-- Run Stats Display -->
                <div class="run-stats-display" id="runStatsDisplay">
                    <div class="stat-item">
                        <span class="stat-label">Dice:</span>
                        <span class="stat-value">1-3</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Base Power:</span>
                        <span class="stat-value">0</span>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <!-- Game Over Screen -->
    <div id="gameOverScreen" class="game-over-screen" style="display: none;">
        <div class="game-over-container">
            <div class="game-over-header">
                <h2 id="gameOverTitle">Game Over!</h2>
            </div>
            <div class="game-over-content">
                <div class="game-over-message" id="gameOverMessage"></div>
                <div class="game-over-stats" id="gameOverStats"></div>
                <!-- Run Summary (shown when lost) -->
                <div id="runSummary" class="run-summary" style="display: none;">
                    <div class="summary-item">
                        <span class="summary-label">Level Reached:</span>
                        <span class="summary-value" id="runSummaryLevel">-</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Gold Collected:</span>
                        <span class="summary-value" id="runSummaryGold">0</span>
                    </div>
                </div>
            </div>
            <div class="game-over-actions">
                <button id="nextLevelBtn" class="menu-button primary" style="display: none;">Next Level</button>
                <button id="restartBtn" class="menu-button primary">Claim</button>
            </div>
        </div>
    </div>

    <!-- Power-up Selection Screen -->
    <div id="powerupScreen" class="powerup-screen" style="display: none;">
        <div class="powerup-container">
            <div class="powerup-header">
                <h2>Level Complete!</h2>
                <p>Choose your upgrades</p>
                <div class="powerup-current-stats">
                    <span class="stats-label">
                        <span class="stats-icon">üß†</span>
                        <span>INT:</span>
                    </span>
                    <span class="stats-value" id="powerupDiceRange">1-2</span>
                </div>
            </div>
            
            <div class="powerup-cards" id="powerupCards">
                <!-- Power-up cards will be generated here -->
            </div>
            
            <div class="powerup-actions">
                <div class="resource-dice">
                    <div class="dice" id="resourceDice">?</div>
                </div>
                <button id="rollResourceDice" class="roll-resource-btn">Roll</button>
                <button id="skipPowerup" class="skip-btn">SKIP</button>
            </div>
        </div>
    </div>

    <!-- Combat Screen -->
    <div id="combatScreen" class="combat-screen" style="display: none;">
        <div class="combat-container">
            <!-- Turn Indicator -->
            <div class="combat-turn-indicator" id="combatTurnIndicator">
                <span id="combatTurnText">Player Turn</span>
            </div>
            
            <!-- Combat Arena -->
            <div class="combat-arena">
                <!-- Player Area (Left) -->
                <div class="combat-character player-area" id="combatPlayerArea">
                    <div class="character-emoji" id="combatPlayerEmoji">üßô</div>
                    <div class="character-dice-display" id="combatPlayerDice"></div>
                    <div class="character-info">
                        <div class="character-name">Player</div>
                        <div class="dice-range-display">
                            <span class="dice-range-icon">‚öîÔ∏è</span>
                            <span class="dice-range-label">Damage:</span>
                            <span class="dice-range-value" id="combatPlayerDiceRange">1-2</span>
                        </div>
                        <div class="hp-bar-container">
                            <div class="hp-bar-label">
                                <span>
                                    <span class="hp-icon">‚ù§Ô∏è</span>
                                    <span>HP:</span>
                                </span>
                                <span id="combatPlayerHPText">0/0</span>
                            </div>
                            <div class="hp-bar">
                                <div class="hp-bar-fill player-hp" id="combatPlayerHPBar" style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- VS Divider -->
                <div class="combat-vs">VS</div>
                
                <!-- Enemy Area (Right) -->
                <div class="combat-character enemy-area" id="combatEnemyArea">
                    <div class="character-emoji" id="combatEnemyEmoji">üëπ</div>
                    <div class="character-dice-display" id="combatEnemyDice"></div>
                    <div class="character-info">
                        <div class="character-name" id="combatEnemyName">Enemy</div>
                        <div class="dice-range-display">
                            <span class="dice-range-icon">‚öîÔ∏è</span>
                            <span class="dice-range-label">Damage:</span>
                            <span class="dice-range-value" id="combatEnemyDiceRange">1-1</span>
                        </div>
                        <div class="hp-bar-container">
                            <div class="hp-bar-label">
                                <span>
                                    <span class="hp-icon">‚ù§Ô∏è</span>
                                    <span>HP:</span>
                                </span>
                                <span id="combatEnemyHPText">0/0</span>
                            </div>
                            <div class="hp-bar">
                                <div class="hp-bar-fill enemy-hp" id="combatEnemyHPBar" style="width: 100%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Damage Display Area -->
            <div class="combat-damage-area">
                <div class="damage-display player-damage" id="combatPlayerDamage"></div>
                <div class="damage-display enemy-damage" id="combatEnemyDamage"></div>
            </div>
        </div>
    </div>

    <!-- Item Stat Selection Pop-up -->
    <div id="itemStatSelection" class="item-stat-selection" style="display: none;">
        <div class="item-stat-selection-overlay"></div>
        <div class="item-stat-selection-popup">
            <div class="item-stat-selection-header">
                <h3>Choose Stat to Upgrade</h3>
                <div class="item-stat-selection-item">
                    <span class="item-emoji" id="itemStatEmoji">‚≠ê</span>
                    <span class="item-value" id="itemStatValue">+1</span>
                </div>
            </div>
            <div class="item-stat-selection-options">
                <button class="stat-option-btn" data-stat="hp">
                    <span class="stat-option-icon">‚ù§Ô∏è</span>
                    <span class="stat-option-label">HP</span>
                    <span class="stat-option-current" id="statOptionHP">0/0</span>
                </button>
                <button class="stat-option-btn" data-stat="dmg">
                    <span class="stat-option-icon">‚öîÔ∏è</span>
                    <span class="stat-option-label">Max DMG</span>
                    <span class="stat-option-current" id="statOptionDMG">0</span>
                </button>
                <button class="stat-option-btn" data-stat="spd">
                    <span class="stat-option-icon">üèÉ</span>
                    <span class="stat-option-label">Max SPD</span>
                    <span class="stat-option-current" id="statOptionSPD">0</span>
                </button>
                <button class="stat-option-btn" data-stat="int">
                    <span class="stat-option-icon">üß†</span>
                    <span class="stat-option-label">Max INT</span>
                    <span class="stat-option-current" id="statOptionINT">0</span>
                </button>
            </div>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="level-design.js"></script>
    <script src="powerup-config.js"></script>
    <script src="home-manager.js"></script>
    <script src="game.js"></script>
</body>
</html>

